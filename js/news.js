var ficherosJSON=["1.json","2.json"];var cargado=0;var miniCarga=0;var noMore=0;$(document).ready(function(){cargaMini();$('html, body').animate({scrollTop:0},100);$("#mas").click(function(){if(cargado<ficherosJSON.length){cargarNoticias();}else{$('#noMas').fadeIn(1500);$('#noMas').fadeOut(3000);}});var win=$(window);win.scroll(function(){if($(document).height()-win.height()==win.scrollTop()){cargarNoticias();}});});function cargarNoticias(){if((cargado<ficherosJSON.length)){$.getJSON("https://rawgit.com/pacho21/noticiasweb/master/data/"+ficherosJSON[cargado],function(jsOb){for(x=0;x<jsOb.length;x++){var tit=document.createElement("h3");var divI=document.createElement("div");var img=document.createElement("img");var divN=document.createElement("div");var desc=document.createElement("p");var but=document.createElement("button");var date=document.createElement("footer");tit.textContent=jsOb[x].title;tit.style="text-align: center;";$(tit).hide();but.className="btn btn-default";but.type="button";but.id="seguirLeyendo";but.textContent="Seguir Leyendo";$(but).hide();img.id="imgNoticia";img.className="img-thumbnail" img.src=jsOb[x].img;img.alt=jsOb[x].alt;$(img).hide();desc.textContent=jsOb[x].desc;$(desc).hide();date.textContent=jsOb[x].date;date.id="date";date.className="small";$(date).hide();divI.id="nImg";divN.className="container";divN.id="news";$("#aire").append(tit);$(tit).fadeIn(1500);$("#aire").append(divI);$(divI).append(img);$(img).fadeIn(1500);$("#aire").append(divN);$(divN).append("<br/>");$(divN).append(desc);$(desc).append(date);$(desc).fadeIn(1500);$(date).fadeIn(1500);$(divN).append(but);$(but).fadeIn(1500);$("#aire").append("<hr>");}});cargado++;}else{if(noMore<5){$('#noMas').fadeIn(1500);$('#noMas').fadeOut(3000);noMore++;}}} function cargaMini(){while(miniCarga<ficherosJSON.length){$.getJSON("https://rawgit.com/pacho21/noticiasweb/master/data/"+ficherosJSON[miniCarga],function(jsObject){for(x=0;x<jsObject.length;x++){var type=document.createElement("h3");var minidesc=document.createElement("p");var divItem=document.createElement("div");type.textContent=jsObject[x].type;minidesc.textContent=jsObject[x].title;divItem.className="item";$("#itemsCarro").append(divItem);$(divItem).append(type);$(divItem).append(minidesc);}});miniCarga++;}}